<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
  <head>
    <title></title>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
    <style type="text/css" media="screen">
      // #html, body, #flashclient                { height:100%; }
      // body                                    { margin:0; padding:0; overflow:hidden; }
      #altContent                             { /* style alt content */ }

        #headsetButton {
		display: block;
		width: 16px;
		height: 16px;
		background-image: url(images/headset.png)
	}
        #headsetButton:hover {
		display: block;
		width: 16px;
		height: 16px;
		background-image: url(images/headset_open.png)
	}

#controls {
float:left;
width:20%;
height:100%;
background:#9c9;
}
#client {
float:right;
width:80%;
height:100%;
background:#c9c;
} 
#footer {
clear:both;;
background:#c9c;
        #webCamButton {
  display: block;
  width: 16px;
  height: 16px;
		background-image: url(images/webcam.png)
	}
        #webCamButton:hover {
  display: block;
  width: 16px;
  height: 16px;
		background-image: url(images/webcam_on.png)
	}
 
    </style>
    <script type="text/javascript" src="swfobject/swfobject.js"></script>
    <script type="text/javascript">
      swfobject.registerObject("BigBlueButton", "11", "expressInstall.swf");
    </script>
    <script src="lib/jquery-1.5.1.min.js" language="javascript"></script>
    <script src="lib/bigbluebutton.js" language="javascript"></script>
    <script src="lib/bbb_localization.js" language="javascript"></script>
    <script src="lib/bbb_blinker.js" language="javascript"></script>
    <script src="lib/bbb_deskshare.js" language="javascript"></script>
    <script type="text/javascript" src="lib/bbb_api_bridge.js"></script>
    <script type="text/javascript" src="lib/3rd-party.js"></script>
    <script>


$(document).ready();

      window.displayBBBClient = function() {
        var bbbc = document.getElementById("flashclient");
        bbbc.style.display = "block";
      }
      window.onload = function() {
         registerListeners();
      }

var joinedVoice = false;
var startedWebCam = false;

var getMyUserID = function() {
  BBB.getMyUserID(function(userID) {
    log_message("getMyUserID=" + userID);
  });
}

getMyUserID();

  BBB.listen("UserJoinedVoiceEvent", function(bbbEvent) {
    if (bbbEvent.userName == "test3") {
    	headsetButton_On();
    }
  });

  BBB.listen("UserLeftVoiceEvent", function(bbbEvent) {
    headsetButton_Off()
  });

function clickHeadsetButton() {
	if (joinedVoice) {
		joinVoiceConference2();
	} else {
		joinVoiceConference2();
	}
}

function headsetButton_On() {
	document.getElementById('headsetButton').style.backgroundImage="url('images/headset_open.png')";
	joinedVoice = true;
}

function headsetButton_Off() {
	document.getElementById('headsetButton').style.backgroundImage="url('images/headset.png')";
	joinedVoice = false;
}

function webCamButton_On() {
	document.getElementById('webCamButton').style.backgroundImage="url('images/webcam_on.png')";
}

function log_message(msg) {
	var obj=document.getElementById('log');
	obj.value += "\n"+msg;
	obj.scrollTop = obj.scrollHeight
}
log_message("### Startup");
    </script>
  </head>
  <body>

    <div id="controls">
      <button type="button" onclick="getMyUserID()">Get UserID</button>
      <button type="button" onclick="getMeetingID()">Get MeetingID</button>
      <button type="button" onclick="getMyRoleAsynch()">Get Role Asynch</button>
      <button type="button" onclick="getMyRoleSynch()">Get Role Synch</button>
      <button type="button" onclick="muteMe()">Mute</button>
      <button type="button" onclick="unmuteMe()">Unmute</button>
      <button type="button" onclick="muteAll()">Mute All</button>
      <button type="button" onclick="unmuteAll()">Unmute All</button>

  </p>
			<!--- select name="Layout" onChange='if (type(this.selectedIndex) != "undefined") alert("fred");'-->
			Layout: <select name="Layout" onChange="switchLayout(this.options[this.selectedIndex].value);return false">
				<option value="Default">Default</option>
				<option value="S2SVideoChat">Video Chat</option>
				<option value="S2SPresentation">Presentation</option>
			</select>
  </p>
  Chat: <FORM NAME="chat" onsubmit='BBB.sendPublicChatMessage("0x7A7A7A", "en", this.elements["chat-message"].value); return false;'>
   <input id="chat-message" type="text" autofocus name="text" /></td>
   <input id="submit-button" type="submit" value="Send Chat Message" /></td>
  </FORM>
  </p>
  Webcam:<a id="startWebCamButton" onclick='BBB.shareVideoCamera()' href="#" title="Start Webcam"><span></span></a> 
  Audio:<a id="headsetButton" onclick='clickHeadsetButton()' href="#" title="Join Audio"><span></span></a>

  Events:
  <form>
    <textarea id="log" cols=40 rows=20 readonly>
       
    </textarea>
  </form>
  </div>

    <div id="client">
        <object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="90%" id="BigBlueButton" name="BigBlueButton" align="middle">
          <param name="movie" value="BigBlueButton.swf?v=VERSION" />
          <param name="quality" value="high" />
          <param name="allowfullscreen" value="true" />
          <param name="bgcolor" value="#869ca7" />
          <param name="wmode" value="window" />
          <param name="allowScriptAccess" value="always" />
          <!--[if !IE]>-->
            <object type="application/x-shockwave-flash" data="BigBlueButton.swf?v=VERSION" width="100%" height="90%" align="middle">
              <param name="quality" value="high" />
              <param name="bgcolor" value="#869ca7" />
              <param name="allowScriptAccess" value="always" />
              <!--<![endif]-->
                <a href="http://www.adobe.com/go/getflashplayer">
                  <img src="http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif" alt="Get Adobe Flash player" />
                </a>
              <!--[if !IE]>-->
           </object>
        <!--<![endif]-->
        </object>
    </div>
    <!-- div id="footer">
    	<div id="update-display"/>
        <div id="notifications" aria-live="polite" role="region" aria-label="Chat Notifications"></div>
    </div-->
  </body>
</html>
